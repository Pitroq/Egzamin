<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Egzamin</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../prism.css">
    <script type="text/javascript" src="../prism.js"></script>
    <script type="text/javascript" src="../gallery.js"></script>
    <script type="text/javascript" src="../left-nav.js"></script>
    <script type="text/javascript" src="../jquery.min.js"></script>
    <script>
        $(document).ready(function(){
           $('.left-nav').load("nav-include.html");
        });
    </script>
</head>
<body onLoad="check_nav();">
    <header>
        <nav class="header-nav">
            <a href="../index.html" class="light-link header-nav-link">Strona główna</a>
            <a href="../javascript/index.html" class="light-link header-nav-link">JavaScript</a>
            <a href="../sql/index.html" class="light-link header-nav-link">SQL</a>
            <a href="../php/index.html" class="light-link header-nav-link" style="text-decoration: underline;">PHP</a>
            <a href="../egzamin/index.html" class="light-link header-nav-link">Egzamin</a>
        </nav>
    </header>

    <nav class="left-nav"></nav>
    <article>
        <p style="font-size: 45px; text-align: center;" id="article-header">Pobieranie danych z zapytania</p>
        <p>Możemy pobrać dane z zapytania na 2 sposoby - <i>petla foreach</i> i <i>petla while</i>.</p>
        <p><b>Foreach:</b></p>
<pre><code class="language-php">$connect = mysqli_connect('localhost', 'root', '', 'kino');
$query = mysqli_query($connect, "SELECT DISTINCT gatunek FROM filmy;");

$result = mysqli_fetch_all($query, MYSQLI_ASSOC);
foreach($result as $r){
    echo $r['gatunek']."&lt;br&gt;";
}

mysqli_close($connect);</code></pre>
    <p>Funkcja mysqli_fetch_all() zamienia nam rezultat zapytania na tablice asocjacyjna (kluczem jest ciąg znaków).</p>
        <p>Pętla foreach wykona sie tyle razy ile jest wierszy w zapytaniu.</p>
        <p>Aby pobrać wartość z tablicy należy odnieść się do klucza (nazwa kolumny).</p>
        <br>
        <p><b>While:</b></p>    
<pre><code class="language-php">$connect = mysqli_connect('localhost', 'root', '', 'kino');
$query = mysqli_query($connect, "SELECT DISTINCT gatunek FROM filmy;");

while($result = mysqli_fetch_assoc($query)){
    echo $r['gatunek']."&lt;br&gt;";
}

mysqli_close($connect);</code></pre>  
        <p>Pętla while będzie wykonywała się dopóki będą wiersze w zapytaniu. Jeżeli wiersze się skonczą to pętla się również skończy.</p>
        <p>Funkcja mysqli_fetch_assoc() zamienia wiersz z zapytania do tablicy asocjacyjnej (kluczem jest ciąg znaków).</p>
        <p>Aby pobrać wartość z tablicy należy odnieść się do klucza (nazwa kolumny).</p>
    </article>
    <footer></footer>
</body>
</html>